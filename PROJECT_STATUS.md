# –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞ Advert Master Server

## ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

### –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ Shared –º–æ–¥—É–ª–∏ (—Ç–∏–ø—ã, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, —É—Ç–∏–ª–∏—Ç—ã)
- ‚úÖ Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚úÖ .gitignore

### API Gateway
- ‚úÖ –†–æ—É—Ç–∏–Ω–≥ –∫–æ –≤—Å–µ–º —Å–µ—Ä–≤–∏—Å–∞–º
- ‚úÖ –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è

### –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã

#### 1. Auth Service ‚úÖ
- ‚úÖ JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è (email/phone)
- ‚úÖ OAuth (Google)
- ‚úÖ OTP (SMS)
- ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∞–≤–∞—Ç–∞—Ä–æ–≤ (S3)
- ‚úÖ PostgreSQL –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- ‚úÖ Redis –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

#### 2. Adverts Service ‚úÖ
- ‚úÖ CRUD –æ–±—ä—è–≤–ª–µ–Ω–∏–π
- ‚úÖ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ (S3)
- ‚úÖ –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
- ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
- ‚úÖ Cron –∑–∞–¥–∞—á–∏ (VIP/TOP –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)
- ‚úÖ MongoDB –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

#### 3. User Service ‚úÖ
- ‚úÖ –ü—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –ò–∑–±—Ä–∞–Ω–Ω–æ–µ
- ‚úÖ PostgreSQL + MongoDB –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

#### 4. Search Service ‚úÖ
- ‚úÖ –ü–æ–∏—Å–∫ –æ–±—ä—è–≤–ª–µ–Ω–∏–π
- ‚úÖ –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ (–ø—Ä–æ–∫—Å–∏ –∫ adverts-service)
- ‚úÖ –ö—É—Ä—Å—ã –≤–∞–ª—é—Ç
- ‚úÖ MongoDB –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

#### 5. Payments Service ‚úÖ
- ‚úÖ Stripe –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ PaymentIntent
- ‚úÖ JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

#### 6. Archive Service ‚úÖ
- ‚úÖ –ê—Ä—Ö–∏–≤ –æ–±—ä—è–≤–ª–µ–Ω–∏–π
- ‚úÖ –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –≤ –∞—Ä—Ö–∏–≤
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –∏–∑ –∞—Ä—Ö–∏–≤–∞
- ‚úÖ MongoDB –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

## üìù –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ README.md
- ‚úÖ SETUP.md
- ‚úÖ ARCHITECTURE.md
- ‚úÖ PROJECT_STATUS.md

## üîß –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –¥–ª—è –∑–∞–ø—É—Å–∫–∞

1. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   - –°–æ–∑–¥–∞—Ç—å `.env` —Ñ–∞–π–ª—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å AWS S3 credentials
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Stripe –∫–ª—é—á–∏
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Google OAuth
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å SMS Gateway API

2. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:**
   ```bash
   docker-compose up -d postgres-auth postgres-user mongodb-adverts mongodb-search mongodb-archive redis
   ```

3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   ```bash
   # –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
   cd services/auth-service && npm install
   cd ../adverts-service && npm install
   # –∏ —Ç.–¥.
   ```

4. **–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã:**
   ```bash
   # –ß–µ—Ä–µ–∑ Docker Compose
   docker-compose up -d
   
   # –ò–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ
   cd services/auth-service && npm run start:dev
   ```

## ‚ö†Ô∏è –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **Search Service:**
   - –ü–æ–∏—Å–∫ —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–π
   - –°–µ–π—á–∞—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–æ–∫—Å–∏ –∫ adverts-service
   - –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Elasticsearch

2. **–ú–µ–∂—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è:**
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–æ—Å—Ç–æ–π HTTP —á–µ—Ä–µ–∑ Docker —Å–µ—Ç—å
   - –ù–µ—Ç retry –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤
   - –ù–µ—Ç circuit breakers

3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
   - –ë–∞–∑–æ–≤–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ console.log
   - –ù–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
   - –ù–µ—Ç –º–µ—Ç—Ä–∏–∫ (Prometheus)

4. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
   - JWT —Å–µ–∫—Ä–µ—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
   - –ù–µ—Ç rate limiting
   - –ù–µ—Ç request ID tracking

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

1. –î–æ–±–∞–≤–∏—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (ELK stack)
2. –î–æ–±–∞–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (Prometheus + Grafana)
3. –î–æ–±–∞–≤–∏—Ç—å health checks endpoints
4. –î–æ–±–∞–≤–∏—Ç—å API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é (Swagger)
5. –î–æ–±–∞–≤–∏—Ç—å unit –∏ e2e —Ç–µ—Å—Ç—ã
6. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CI/CD
7. –î–æ–±–∞–≤–∏—Ç—å retry –º–µ—Ö–∞–Ω–∏–∑–º—ã –¥–ª—è –º–µ–∂—Å–µ—Ä–≤–∏—Å–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤
8. –î–æ–±–∞–≤–∏—Ç—å circuit breakers
9. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ–∏—Å–∫ (Elasticsearch)
10. –î–æ–±–∞–≤–∏—Ç—å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ (Redis –¥–ª—è —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö)

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **–í—Å–µ–≥–æ —Å–µ—Ä–≤–∏—Å–æ–≤:** 7 (1 Gateway + 6 –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤)
- **–ë–∞–∑ –¥–∞–Ω–Ω—ã—Ö:** 6 (2 PostgreSQL + 3 MongoDB + 1 Redis)
- **–≠–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤:** ~40+
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞:** ~5000+

## ‚ú® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- Database per Service pattern
- REST API –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è
- Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- TypeScript + NestJS
- Best practices —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
